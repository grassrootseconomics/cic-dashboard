metadata:
  org: gitlab.com/grassrootseconomics

namespaces:
  grassroots:
    protected: false

helmRepos:
  traefik: https://helm.traefik.io/traefik
  hashicorp: https://helm.releases.hashicorp.com
  jetstack: https://charts.jetstack.io
  external-secrets: https://charts.external-secrets.io
  gatus: https://avakarev.github.io/gatus-chart
  vm: https://victoriametrics.github.io/helm-charts/
  grafana: https://grafana.github.io/helm-charts
  bitnami: https://charts.bitnami.com/bitnami
  keel: https://charts.keel.sh
  kyverno: https://kyverno.github.io/kyverno/

apps:
  traefik:
    name: traefik
    protected: true
    priority: -3
    namespace: grassroots
    enabled: true
    chart: traefik/traefik
    version: 10.14.2
    valuesFile: helm-values/traefik.yaml
  cert-manager:
    name: cert-manager
    protected: true
    priority: -2
    namespace: grassroots
    enabled: true
    chart: jetstack/cert-manager
    version: 1.7.1
    setString:
      installCRDs: true
  vault:
    name: vault
    protected: true
    namespace: grassroots
    enabled: true
    chart: hashicorp/vault
    version: 0.19.0
    valuesFile: helm-values/vault.yaml
  external-secrets-operator:
    name: external-secrets-operator
    protected: true
    namespace: grassroots
    enabled: true
    chart: external-secrets/external-secrets
    version: 0.4.4
  postgres:
    name: postgres
    protected: false
    namespace: grassroots
    enabled: true
    chart: bitnami/postgresql
    version: 11.1.3
    hooks:
      preInstall: helmsman-hooks/postgres-prehook.yaml
    valuesFile: helm-values/postgres.yaml
  redis:
    name: redis
    protected: false
    namespace: grassroots
    enabled: true
    chart: bitnami/redis
    version: 16.4.5
    valuesFile: helm-values/redis.yaml
  vm:
    name: vm
    protected: true
    namespace: grassroots
    enabled: true
    chart: vm/victoria-metrics-operator
    version: 0.8.0
  grafana:
    name: grafana
    protected: true
    namespace: grassroots
    enabled: true
    chart: grafana/grafana
    version: 6.23.0
    valuesFile: helm-values/grafana.yaml
  loki:
    name: loki
    protected: false
    namespace: grassroots
    enabled: true
    chart: grafana/loki-stack
    version: 2.6.1
    valuesFile: helm-values/loki-stack.yaml
